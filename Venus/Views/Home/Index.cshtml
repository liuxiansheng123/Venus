@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/View1.cshtml";
}
@using VBLL;
@using VMODEL;
@{
    List<VMODEL.WorksModel> list = ViewBag.list as List<VMODEL.WorksModel>;
    List<VMODEL.WorksModel> hot = ViewBag.hot as List<VMODEL.WorksModel>;
}

<script src="~/Scripts/jquery-1.8.2.min.js"></script>
<script src="~/Content/jquery.masonry.min.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<style>
    #container img {
        width: 225px;
    }

    .divwidth {
        width: 1200px;
        margin-left: 150px;
        margin-right: 150px;
    }

    #container {
        margin-left: 100px;
        width: 1050px auto;
        margin: 0 auto;
        position: relative;
        z-index: 1;
        height: 100% auto;
    }

        #container div {
            border: solid 1px #a9a59e;
            box-shadow: 0 0 5px #000;
            margin-bottom: 5px;
        }



    #myCarousel {
        width: 1185px;
        height: 350px;
        margin: 0 auto;
    }

    .carousel-control img {
        margin-top: 195px;
    }

    #hehe {
        width: 1099px;
        margin: 0 auto;
        margin-bottom: 30px;
    }

    #boxss {
        border: -1px solid;
        background-color: white;
        height: 40px;
        width: 225px;
    }
</style>
<body>
    <div id="myCarousel" class="carousel slide">
        <!-- 轮播（Carousel）指标 -->
        <ol class="carousel-indicators">
            <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
            <li data-target="#myCarousel" data-slide-to="1"></li>
            <li data-target="#myCarousel" data-slide-to="2"></li>
        </ol>
        <!-- 轮播（Carousel）项目 -->
        <div class="carousel-inner">
            <div class="item active">
                <img style="height:auto" src="~/images/58a65e75N2dd6dff7.jpg" alt="First slide" />
            </div>
            <div class="item">
                <img src="~/images/58a65e82N7b6629ca.jpg" alt="Second slide" />
            </div>
            <div class="item">
                <img src="~/images/58a65e83Nc0fc82c6.jpg" alt="Third slide" />
            </div>
        </div>
        <!-- 轮播（Carousel）导航 -->
        <a class="carousel-control left" href="#myCarousel"
           data-slide="prev">

            <img src="~/images/l.png" />
        </a>
        <a class="carousel-control right" href="#myCarousel"
           data-slide="next">
            <img src="~/images/r.png" />
        </a>
    </div>
    <div id="content">
        <div class="dt-wrap">
            <div id="dt-center" class="clr">
                <div class="dt-block">
                    <h2>最新作品</h2>
                    <div class="dt-album oh">
                        @foreach (var item in list)
                        {
                            <div class="section" data-id="@item.Worksid">
                                <div class="section-img">
                                    <img src="@item.Worksurl">
                                    <a target="_blank" class="dt-img-cover" href="/Home/show/@item.Worksid"></a>
                                </div>
                                <div class="section-desc">
                                    <a target="_blank" class="section-title" href="/Home/show/@item.Worksid">
                                        @item.Workcontent
                                    </a>
                                    <div class="section-attr">
                                        <p>
                                            @item.WorksCount 张图片 <b>·</b> 1035人收藏
                                        </p>
                                        <p>
                                            by <a target="_blank" class="dt-username" href="/people/?user_id=14121064">Moollly</a>
                                        </p>
                                    </div>

                                </div>
                            </div>
                        }
                    </div>
                </div>
                <div class="dt-block">
                  
                    <h2>最热作品</h2>
                    <div class="dt-album oh">
                        @foreach (var item in hot)
                        {
                            <div class="section" data-id="@item.Worksid">
                                <div class="section-img">
                                    <img src="@item.Worksurl">
                                    <a target="_blank" class="dt-img-cover" href="/Home/show/@item.Worksid"></a>
                                </div>
                                <div class="section-desc">
                                    <a target="_blank" class="section-title" href="/Home/show/@item.Worksid">
                                        @item.Workcontent
                                    </a>
                                    <div class="section-attr">
                                        <p>
                                            @item.WorksCount 张图片 <b>·</b> 1035人收藏
                                        </p>
                                        <p>
                                            by <a target="_blank" class="dt-username" href="/Home/show/@item.Worksid">Moollly</a>
                                        </p>
                                    </div>

                                </div>
                            </div>
                        }

                    </div>
                </div>

            </div>
        </div>
        <div id="woo-holder">
            <a name="woo-anchor" class="woo-swa"></a>
            <div class="woo-swb">
                <div class="woo-pcont stpics clr woo-masned" data-wootemp="4" data-subpagenum="1" data-totalunits="24">
                </div>
                <div class="woo-pager">
                </div>
                <script>
                    $('#fordymarea').attr('id', 'woo-holder').find('div.woo-pcont').addClass('woo-masned')
                </script>
            </div>
        </div>

        <div style="border:-1px solid #808080; width:auto;margin-top:10px;"></div>
        <h2 style="margin-bottom:50px;font-size:large; margin-top:50px"><strong>大家都在看</strong></h2>
        <div id="container">
            @foreach (var item in list)
            {
                <div class="item">
                    <img src="@item.Worksurl" />
                    <div id="boxss">
                        <a target="_blank" class="section-title" href="/Home/show/@item.Worksid">
                            @item.Workcontent
                        </a>

                    </div>
                </div>
                foreach (var i in hot)
                {
                    <div class="item">
                        <img src="@i.Worksurl" />
                        <div id="boxss">

                            <a target="_blank" class="section-title" href="/Home/show/@item.Worksid">
                                @item.Workcontent
                            </a>
                        </div>
                    </div>
                }
            }
        </div>
        <div id="dt-woomore">
            <a class="dt-pg-btn" href="/works/show">浏览更多 &gt;</a>
        </div>
    </div>
</body>
<script type="text/javascript">
    $(function () {
        $('#container').masonry({
            // options 设置选项
            itemSelector: '.item',//class 选择器
            columnWidth: 220,//一列的宽度 Integer
            isAnimated: true,//使用jquery的布局变化  Boolean
            animationOptions: {
                //jquery animate属性 渐变效果  Object { queue: false, duration: 500 }
            },
            gutterWidth: 20,//列的间隙 Integer
            isFitWidth: true,// 适应宽度   Boolean
            isResizableL: true,// 是否可调整大小 Boolean
            isRTL: false,//使用从右到左的布局 Boolean
        });
    });
</script>

<!--js图片整理-->
<script>
    var $container = $('#container');
    $container.imagesLoaded(function () {
        $container.masonry({
            itemSelector: '.item',
            columnWidth: 220
        });
    });

    $('#container').masonry('methodName', [optionalParameters])
    masonry('destroy')// 完全移除masonry的功能 返回到元素预初始化状态
    masonry('layout', $items, callback)// 指定项目的布局
    masonry('option', options) //设置option
    masonry('reloadItems') //重新聚合所有项目以当前的顺序
    masonry('reload') //用于预先考虑或者插入项目 .masonry( 'reloadItems' )的简化版
    masonry('remove', $items) //从masonry实例或dom中移除项目

</script>